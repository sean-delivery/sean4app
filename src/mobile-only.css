/* מובייל בלבד */
@media (max-width: 768px) {

  :root {
    --mobile-nav-height: clamp(52px, 7vh, 64px);
    --mobile-gap: 14px;
  }

  /* לא נוגעים בדסקטופ; במובייל מוסיפים מרווח לסרגל */
  body, #root, .app, main {
    padding-bottom: calc(var(--mobile-nav-height) + env(safe-area-inset-bottom));
    background: #f8fafc;
  }

  /* ===== רשת של "קוביות" בדף הראשי ===== */
  .apps-grid,
  .cards,
  .tiles,
  .home .grid,
  .home [role="list"] {
    display: grid !important;
    grid-template-columns: 1fr; /* סידור אנכי */
    gap: var(--mobile-gap);
    padding: var(--mobile-gap);
    justify-items: center; /* מירכוז הקוביות */
    width: 100%;
    max-width: 520px; /* רוחב נוח למובייל */
    margin-inline: auto; /* מירכוז הגריד */
    box-sizing: border-box;
  }

  /* האייטמים עצמם (כפתורי "קוביה") */
  .apps-grid > *,
  .cards > *,
  .tiles > *,
  .home .grid > *,
  .home [role="list"] > * {
    width: 100%;
    border-radius: 18px;
    aspect-ratio: 1 / 1; /* קוביות ריבועיות */
    min-height: 140px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
  }

  /* טקסט בכרטיסים שלא יקפוץ */
  .apps-grid > * *,
  .cards > * *,
  .tiles > * * {
    font-size: clamp(16px, 4.5vw, 22px);
    line-height: 1.2;
  }

  /* ===== סרגל תחתון מקובע וקבוע-גודל ===== */
  footer,
  .footer,
  .bottom-nav,
  nav.bottom,
  [data-role="bottom-nav"] {
    position: fixed !important;
    left: 0;
    right: 0;
    bottom: 0;
    height: var(--mobile-nav-height);
    padding: 0 10px env(safe-area-inset-bottom);
    display: flex;
    gap: 6px;
    align-items: center;
    justify-content: space-around;
    background: #0f172a;
    border-top: 1px solid #1f2937;
    z-index: 9999;
  }

  footer a, footer button,
  .footer a, .footer button,
  .bottom-nav a, .bottom-nav button,
  nav.bottom a, nav.bottom button {
    min-width: 64px;
    min-height: 44px; /* נגישות */
    font-size: 12px;
    line-height: 1.1;
    border-radius: 10px;
    padding: 6px 8px;
  }

  /* מונע זום על פוקוס בשדות במובייל */
  input, select, textarea {
    font-size: 16px;
  }
}

/* סוף מובייל */
/* ---- harden mobile layout: stop horizontal overflow & center content ---- */
@media (max-width: 768px) {
  html, body { overflow-x: hidden; }

  /* קונטיינר המסך של דף הקוביות */
  .apps-container {
    width: 100%;
    max-width: 560px;            /* רוחב נוח למובייל */
    margin-inline: auto;         /* מירכוז */
    padding-inline: 16px;        /* שוליים פנימיים */
    box-sizing: border-box;
  }

  /* כותרת ראשית – שלא "תברח" לצדדים */
  [data-role="hero-title"] {
    font-size: clamp(28px, 9vw, 44px);
    line-height: 1.15;
    margin-inline: 0;
    word-break: break-word;
    overflow-wrap: anywhere;
  }
  [data-role="hero-sub"] { margin: 8px 0 16px; }

  /* רשת קוביות – טור יחיד ממורכז, בלי גלילה אופקית */
  .apps-grid,
  .cards,
  .tiles,
  .home .grid,
  .home [role="list"] {
    display: grid !important;
    grid-template-columns: 1fr;
    gap: 14px;
    width: 100%;
    margin-inline: auto;
    box-sizing: border-box;
  }
  .apps-grid > *,
  .cards > *,
  .tiles > *,
  .home .grid > *,
  .home [role="list"] > * {
    width: 100%;
  }

  /* אלמנטים שעלולים לשבור רוחב */
  img, svg, canvas, video { max-width: 100%; height: auto; }
  header, .header, footer, .footer { max-width: 100%; }

  /* הגנה כללית – מדדים יחסית לקונטיינר */
  *, *::before, *::after { box-sizing: border-box; }
}
/* --- mobile: 2-column grid that fits 8 tiles nicely --- */
@media (max-width: 768px){
  /* קונטיינר כללי */
  .apps-container{
    max-width: 560px;
    margin: 0 auto;
    padding: 0 12px;
    box-sizing: border-box;
  }

  /* כותרת עליונה ותת-כותרת – קטנות וצפופות יותר */
  [data-role="hero-title"]{
    font-size: clamp(24px, 8vw, 34px);
    line-height: 1.1;
    margin: 6px 0 8px;
    text-align: center;
    word-break: break-word;
    overflow-wrap: anywhere;
  }
  [data-role="hero-sub"]{
    font-size: clamp(13px, 3.6vw, 16px);
    text-align: center;
    margin-bottom: 10px;
  }

  /* רשת הקוביות – שתי עמודות ממורכזות */
  .apps-grid,
  .cards,
  .tiles,
  .home .grid,
  .home [role="list"]{
    display: grid !important;
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 12px;
    padding: 12px 4px 16px;
    width: 100%;
    margin: 0 auto;
    box-sizing: border-box;
  }

  /* הקוביות עצמן – קטנות מעט וצפופות */
  .apps-grid > *,
  .cards > *,
  .tiles > *,
  .home .grid > *,
  .home [role="list"] > *{
    width: 100% !important;
    max-width: 100% !important;
    min-width: 0 !important;       /* שלא יכפו עמודה שלישית */
    border-radius: 16px;
    aspect-ratio: 1 / 1;
    min-height: 120px;              /* קצת קטן יותר */
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 10px;
  }

  /* טקסט בתוך הקוביות – קטן יותר */
  .apps-grid > * *,
  .cards > * *,
  .tiles > * *{
    font-size: clamp(14px, 3.8vw, 18px);
    line-height: 1.15;
  }

  /* אייקונים/אימוג'ים נפוצים בתוך span */
  .apps-grid > * span,
  .cards > * span,
  .tiles > * span{
    font-size: clamp(16px, 4.2vw, 20px);
  }

  /* אין גלילה אופקית */
  html, body{ overflow-x: hidden; }
}
/* --- mobile: 2-column grid that fits 8 tiles nicely --- */
@media (max-width: 768px){
  /* קונטיינר כללי */
  .apps-container{
    max-width: 560px;
    margin: 0 auto;
    padding: 0 12px;
    box-sizing: border-box;
  }

  /* כותרת עליונה ותת-כותרת – קטנות וצפופות יותר */
  [data-role="hero-title"]{
    font-size: clamp(24px, 8vw, 34px);
    line-height: 1.1;
    margin: 6px 0 8px;
    text-align: center;
    word-break: break-word;
    overflow-wrap: anywhere;
  }
  [data-role="hero-sub"]{
    font-size: clamp(13px, 3.6vw, 16px);
    text-align: center;
    margin-bottom: 10px;
  }

  /* רשת הקוביות – שתי עמודות ממורכזות */
  .apps-grid,
  .cards,
  .tiles,
  .home .grid,
  .home [role="list"]{
    display: grid !important;
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 12px;
    padding: 12px 4px 16px;
    width: 100%;
    margin: 0 auto;
    box-sizing: border-box;
  }

  /* הקוביות עצמן – קטנות מעט וצפופות */
  .apps-grid > *,
  .cards > *,
  .tiles > *,
  .home .grid > *,
  .home [role="list"] > *{
    width: 100% !important;
    max-width: 100% !important;
    min-width: 0 !important;       /* שלא יכפו עמודה שלישית */
    border-radius: 16px;
    aspect-ratio: 1 / 1;
    min-height: 120px;              /* קצת קטן יותר */
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 10px;
  }

  /* טקסט בתוך הקוביות – קטן יותר */
  .apps-grid > * *,
  .cards > * *,
  .tiles > * *{
    font-size: clamp(14px, 3.8vw, 18px);
    line-height: 1.15;
  }

  /* אייקונים/אימוג'ים נפוצים בתוך span */
  .apps-grid > * span,
  .cards > * span,
  .tiles > * span{
    font-size: clamp(16px, 4.2vw, 20px);
  }

  /* אין גלילה אופקית */
  html, body{ overflow-x: hidden; }
}
